(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),i=c(7),s=c.n(i);c(14);var r=function(){return Object(n.jsx)("footer",{className:"page-footer green lighten-3",children:Object(n.jsx)("div",{className:"footer-copyright",children:Object(n.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright Text",Object(n.jsx)("a",{className:"grey-text text-lighten-4 right",href:"https://github.com/dm1tro69/React_shop",children:"Repo"})]})})})};var o=function(){return Object(n.jsx)("nav",{className:"green darken-1",children:Object(n.jsxs)("div",{className:"nav-wrapper",children:[Object(n.jsx)("a",{href:"/",className:"brand-logo",children:"React Shop"}),Object(n.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://github.com/dm1tro69/React_shop/",children:"Repo"})})})]})})},l=c(8),j=c(2),d=c(3);var u=function(){return Object(n.jsx)("div",{className:"progress",children:Object(n.jsx)("div",{className:"indeterminate"})})};var b=function(e){var t=e.id,c=e.name,a=e.description,i=e.price,s=e.full_background,r=e.addToBasket;return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-image",children:Object(n.jsx)("img",{src:s,alt:"img"})}),Object(n.jsxs)("div",{className:"card-content",children:[Object(n.jsx)("span",{className:"card-title",children:c}),Object(n.jsx)("p",{children:a})]}),Object(n.jsxs)("div",{className:"card-action",children:[Object(n.jsx)("button",{className:"btn",onClick:function(){return r({id:t,name:c,price:i})},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(n.jsx)("span",{className:"right",style:{fontSize:"1.8rem"},children:i})]})]})};var h=function(e){var t=e.goods,c=void 0===t?[]:t,a=e.addToBasket;return c.length?Object(n.jsx)("div",{className:"goods",children:c.map((function(e){return Object(n.jsx)(b,Object(j.a)(Object(j.a)({},e),{},{addToBasket:a}),e.id)}))}):Object(n.jsx)("h3",{children:"Nothing here"})};var m=function(e){var t=e.quantity,c=void 0===t?0:t,a=e.handleBasketShow;return Object(n.jsxs)("div",{className:"cart blue darken-4 white-text",onClick:a,children:[Object(n.jsx)("i",{className:"material-icons",children:"shopping_cart"}),c?Object(n.jsx)("span",{className:"cart-quantity",children:c}):null]})};var O=function(e){var t=e.id,c=e.name,a=e.price,i=e.quantity,s=e.removeFromBasket,r=e.decQuantity,o=e.incQuantity;return Object(n.jsxs)("li",{className:"collection-item ",children:[c,Object(n.jsx)("i",{onClick:function(){return r(t)},className:"material-icons basket-quantity",children:"remove"}),"x",i,Object(n.jsx)("i",{onClick:function(){return o(t)},className:"material-icons basket-quantity",children:"add"}),"=",a*i,Object(n.jsx)("span",{onClick:function(){return s(t)},className:"secondary-content",children:Object(n.jsx)("i",{className:"material-icons basket-delete",children:"close"})})]})};var f=function(e){var t=e.order,c=void 0===t?[]:t,a=e.handleBasketShow,i=e.removeFromBasket,s=e.decQuantity,r=e.incQuantity,o=c.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(n.jsxs)("ul",{className:"collection basket-list",children:[Object(n.jsx)("li",{className:"collection-item active",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),c.length?c.map((function(e){return Object(n.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{removeFromBasket:i,incQuantity:r,decQuantity:s}),e.id)})):Object(n.jsx)("li",{className:"collection-item ",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(n.jsxs)("li",{className:"collection-item active",children:["\u041e\u0431\u0449\u0430\u044f \u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",o," \u0440\u0443\u0431"]}),Object(n.jsx)("li",{className:"collection-item ",children:Object(n.jsx)("button",{className:"btn-small",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})}),Object(n.jsx)("i",{onClick:a,className:"material-icons basket-close",children:"close"})]})};var x=function(e){var t=e.name,c=void 0===t?"":t,i=e.closeAlert;return Object(a.useEffect)((function(){var e=setTimeout(i,3e3);return function(){clearTimeout(e)}}),[c]),Object(n.jsx)("div",{id:"toast-container",children:Object(n.jsxs)("div",{className:"toast",children:[c," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"]})})};var v=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(!0),r=Object(d.a)(s,2),o=r[0],b=r[1],O=Object(a.useState)([]),v=Object(d.a)(O,2),p=v[0],N=v[1],g=Object(a.useState)(!1),k=Object(d.a)(g,2),y=k[0],q=k[1],B=Object(a.useState)(""),S=Object(d.a)(B,2),w=S[0],Q=S[1],C=function(){q(!y)};return Object(a.useEffect)((function(){fetch("https://fortniteapi.io/v1/shop?lang=ru",{headers:{Authorization:"39dac5b4-3efe316b-3f1a88fb-61df357c"}}).then((function(e){return e.json()})).then((function(e){console.log(e),e.featured&&i(e.featured),b(!1)})),console.log(c.length)}),[]),Object(n.jsxs)("main",{className:"container content",children:[Object(n.jsx)(m,{quantity:p.length,handleBasketShow:C}),o?Object(n.jsx)(u,{}):Object(n.jsx)(h,{goods:c,addToBasket:function(e){var t=p.findIndex((function(t){return t.id===e.id}));if(t<0){var c=Object(j.a)(Object(j.a)({},e),{},{quantity:1});N([].concat(Object(l.a)(p),[c]))}else{var n=p.map((function(e,c){return c===t?Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity+1}):e}));N(n)}Q(e.name)}}),y?Object(n.jsx)(f,{order:p,handleBasketShow:C,removeFromBasket:function(e){var t=p.filter((function(t){return t.id!==e}));N(t)},incQuantity:function(e){var t=p.map((function(t){if(t.id===e){var c=t.quantity+1;return Object(j.a)(Object(j.a)({},t),{},{quantity:c})}return t}));N(t)},decQuantity:function(e){var t=p.map((function(t){if(t.id===e){var c=t.quantity-1;return Object(j.a)(Object(j.a)({},t),{},{quantity:c>=0?c:0})}return t}));N(t)}}):null,w&&Object(n.jsx)(x,{name:w,closeAlert:function(){Q("")}})]})};var p=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(o,{}),Object(n.jsx)(v,{}),Object(n.jsx)(r,{})]})};s.a.render(Object(n.jsx)(p,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.05474c2f.chunk.js.map